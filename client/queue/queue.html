<template name='queue'>
  {{#if Template.subscriptionsReady}}
    {{#if haveActivePlayers}}
      {{#if amActivePlayer}}
        {{#if colorsPicked}}
          <h2>Colors Have Not Been Picked</h2>
          {{> colorPicker}}
        {{/if}}
      {{/if}}

      {{#unless colorsPicked}}
        <div class='row'>
          {{#if result}}
            <h1 class='top white center'>{{result}}</h1>
          {{else}}
            <h1 id='turn-label' class='top white center'>Currently {{currentTurn}}'s turn</h1>
          {{/if}}

          <div class='col-sm-12'>
            {{> board rows}}
          </div>

          <div class='col-sm-4'>
            {{#if amActivePlayer}}
              <button id='forfeit' class='btn btn-default'>Forfeit</button>
              <button id='draw' class='btn btn-default'>Offer Draw</button>
            {{/if}}
            <h3 class='movesLabel text-center'>Moves</h3>
            {{> moveList moves}}
          </div>

          <div class='col-sm-12'>
            {{> chat}}
          </div>
        </div>
      {{/unless}}
    {{/if}}
  {{/if}}
</template>

<template name='colorPicker'>
  <h3 class='pickLabel'>Please pick a color</h3>

  <div class='btn-group'>
    {{#if whiteTaken}}
      <button id='white' class='btn btn-default'> White</button>
    {{/if}}
    {{#if blackTaken}}
      <button id='black' class='btn btn-default'> Black</button>
    {{/if}}
  </div>
</template>
